<?xml version="1.0"?>
<launch>

    <!-- devices config -->
    <arg name="enable_base"         default="true"/>
    <arg name="enable_laser_front"  default="true"/>
    <arg name="enable_laser_back"   default="true"/>
    <arg name="enable_xtion"        default="true"/>
    <arg name="enable_kinect"       default="true"/>
    <arg name="enable_manipulator"  default="true"/>
    <arg name="enable_head"         default="true"/>

  <!-- base -->
  <group if="$(arg enable_base)" >
    <!-- arduino -->
    <node name="serial_node" pkg="rosserial_python" type="serial_node.py">
      <param name="port" value="/dev/base"/>
      <param name="baud" value="38400"/>
    </node>
    <!-- odom -->
    <node pkg="hera_control" type="odom.py" name="robot_base_odom"/>
  </hera_control

  <!-- laser front -->
  <group if="$(arg enable_laser_front)" >
      <node name="hokuyo_node" pkg="hokuyo_node" type="hokuyo_node" >
      <remap from="scan" to="base_scan_front" />
      <param name="port" value="/dev/front_laser"/>
      <param name="frame_id" value="base_scan_front"/>
      <param name="min_ang" value="-1.45"/>
      <param name="max_ang" value="1.45"/>
    </node>
  </group>

  <!-- laser back -->
  <group if="$(arg enable_laser_back)" >
    <node name="hokuyo_node_back" pkg="hokuyo_node" type="hokuyo_node" >
      <remap from="scan" to="base_scan_back" />
      <param name="port" value="/dev/ttyACM1"/>
      <param name="frame_id" value="base_scan_back_link"/>
      <param name="min_ang" value="-1.45"/>
      <param name="max_ang" value="1.45"/>
    </node>
  </group>

  <!-- xtion -->
  <group if="$(arg enable_xtion)" >
     <include file="$(find openni2_launch)/launch/openni2.launch" >
      <arg name="camera" default="xtion" />
      <arg name="device_id" default="1@X" />
    </include>
  </group>

  <!-- kinect -->
  <group if="$(arg enable_kinect)" >
      <include file="$(find openni2_launch)/launch/openni2.launch">
      <arg name="camera" default="kinect" />
      <arg name="device_id" default="1@X" />
    </include>
  </group>

  <!-- manipulator -->
  <group if="$(arg enable_manipulator)" >
      <include file="$(find manip3)/launch/dynamixel_controller.launch"/>
  </group>

  <!-- head -->
  <group if="$(arg enable_head)" >
    <include file="$(find head)/launch/head.launch" />
  </group>

</launch>
